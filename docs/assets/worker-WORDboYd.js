(function(){function e(e){let t={};return e.forEach(e=>{let n=[],r=``;for(let t of e.name)r+=t,r.length>=25&&(n.push(r),r=``);r&&n.push(r),t[e.id]=n}),t}function t(e,t){let n={};return e.forEach(e=>{let r=e.incomingCount+e.outgoingCount||1;n[e.id]=Math.sqrt(r)*t}),n}function n(e,t,n,r,i){let a=(n||``).trim(),o=(r||[]).filter(e=>typeof e==`string`&&e in i),s=new Set,c=null;if(a!==``){let n=e.find(e=>e.name===a);if(n){s.add(n.id),c=n.id;let e=new Map;t.forEach(t=>{e.has(t.source)||e.set(t.source,[]),e.has(t.target)||e.set(t.target,[]),e.get(t.source).push(t),e.get(t.target).push(t)}),e.get(n.id)?.forEach(e=>{s.add(e.source===n.id?e.target:e.source)})}else return{filteredNodeIds:[],filteredLinkIds:[],searchedNodeId:null}}if(o.length>0){let e=new Set;o.forEach(t=>{(i[t]||[]).forEach(t=>{e.add(t)})}),s=a===``?e:new Set(Array.from(s).filter(t=>e.has(t)||t===c))}let l=s,u=Array.from(l),d=[];return t.forEach(e=>{l.has(e.source)&&l.has(e.target)&&d.push(`${e.source}|${e.target}`)}),{filteredNodeIds:u,filteredLinkIds:d,searchedNodeId:c}}self.onmessage=r=>{let i=r.data;if(i.type===`filter`){let e=i,t=n(e.nodes,e.links,e.searchTerm,e.selectedTags,e.tagIndexCache);self.postMessage(t)}else if(i.type===`textCache`){let t=e(i.nodes);self.postMessage({textLineCache:t})}else if(i.type===`nodeSize`){let e=i,n=t(e.nodes,e.nodeSizeMultiplier);self.postMessage({nodeSizeCache:n})}}})();
//# sourceMappingURL=worker-WORDboYd.js.map