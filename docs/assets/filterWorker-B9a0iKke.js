(function(){self.onmessage=e=>{let{nodes:t,links:n,searchTerm:r,selectedTags:i,tagIndexCache:a}=e.data,o=new Set,s=null;if(r.trim()!==``){let e=r.toLowerCase(),i=t.find(t=>t.name.toLowerCase()===e);if(i){o.add(i.id),s=i.id;let e=new Map;n.forEach(t=>{e.has(t.source)||e.set(t.source,[]),e.has(t.target)||e.set(t.target,[]),e.get(t.source).push(t),e.get(t.target).push(t)}),e.get(i.id)?.forEach(e=>{o.add(e.source===i.id?e.target:e.source)})}else{self.postMessage({filteredNodeIds:[],filteredLinkIds:[],searchedNodeId:null});return}}if(i.length>0){let e=new Set;i.forEach(t=>{(a[t]||[]).forEach(t=>{e.add(t)})}),o=r.trim()===``?e:new Set(Array.from(o).filter(t=>e.has(t)||t===s))}let c=o,l=Array.from(c),u=[];n.forEach(e=>{c.has(e.source)&&c.has(e.target)&&u.push(`${e.source}|${e.target}`)}),self.postMessage({filteredNodeIds:l,filteredLinkIds:u,searchedNodeId:s})}})();
//# sourceMappingURL=filterWorker-B9a0iKke.js.map