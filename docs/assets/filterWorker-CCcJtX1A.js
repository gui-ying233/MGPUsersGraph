(function(){self.onmessage=e=>{let{nodes:t,links:n,searchTerm:r,selectedTags:i,tagIndexCache:a}=e.data,o=(r||``).trim(),s=(i||[]).filter(e=>typeof e==`string`&&e in a),c=new Set,l=null;if(o!==``){let e=t.find(e=>e.name===o);if(e){c.add(e.id),l=e.id;let t=new Map;n.forEach(e=>{t.has(e.source)||t.set(e.source,[]),t.has(e.target)||t.set(e.target,[]),t.get(e.source).push(e),t.get(e.target).push(e)}),t.get(e.id)?.forEach(t=>{c.add(t.source===e.id?t.target:t.source)})}else{self.postMessage({filteredNodeIds:[],filteredLinkIds:[],searchedNodeId:null});return}}if(s.length>0){let e=new Set;s.forEach(t=>{(a[t]||[]).forEach(t=>{e.add(t)})}),c=o===``?e:new Set(Array.from(c).filter(t=>e.has(t)||t===l))}let u=c,d=Array.from(u),f=[];n.forEach(e=>{u.has(e.source)&&u.has(e.target)&&f.push(`${e.source}|${e.target}`)}),self.postMessage({filteredNodeIds:d,filteredLinkIds:f,searchedNodeId:l})}})();
//# sourceMappingURL=filterWorker-CCcJtX1A.js.map